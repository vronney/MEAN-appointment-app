---
description:  Web Development Code Style Guide  for Angular
globs: 
---

# ğŸ§ª Web Development Code Style Guide  
**Stack:** Angular (latest), MongoDB (Mongoose), DaisyUI, Tailwind CSS

---

## ğŸ§± Code Style and Structure

- Use `standalone components` and functional patterns where possible.
- Prefer **RxJS observables** over `async/await` for asynchronous data flows.
- Use **pure functions**, services, and dependency injection.
- Separate **smart (container)** and **dumb (presentational)** components.
- Organize by feature using this structure:

```
/feature-name/
  â”œâ”€â”€ feature-name.component.ts
  â”œâ”€â”€ feature-name.component.html
  â”œâ”€â”€ feature-name.component.css (or .tailwind.css)
  â”œâ”€â”€ feature-name.service.ts
  â””â”€â”€ feature-name.model.ts
```

---

## ğŸ·ï¸ Naming Conventions

| Element        | Convention                |
|----------------|---------------------------|
| Folders        | `kebab-case`              |
| Files          | `kebab-case`              |
| Variables      | `camelCase`               |
| Functions      | `camelCase`               |
| Components     | `PascalCase`              |
| Services       | `PascalCaseService`       |
| Interfaces     | `IPascalCase` (optional)  |
| CSS Selectors  | `kebab-case`              |

---

## âœï¸ Syntax and Formatting

- Use `function` keyword for pure helper functions.
- Avoid curly braces for single-line conditionals.
- Use `*ngIf`, `*ngFor` declaratively.
- Prefer `async` pipe in templates over manual subscriptions.

---

## ğŸ¨ UI and Styling

- Use **Tailwind CSS** and **DaisyUI** exclusively.
- Follow **mobile-first** design principles.
- Group repeated utilities with `@apply`.
- Avoid third-party UI libraries unless explicitly approved.

---

## âš¡ Performance Optimization

- Use `OnPush` change detection.
- Prefer Angular **Signals** (v17+) for reactive state.
- Lazy load routes and components via `loadComponent` or `loadChildren`.
- Lazy-load images (`loading="lazy" decoding="async"`).
- Avoid unnecessary subscriptions in components.

---

## ğŸ” Authentication & Routing

- Protect routes with `CanActivate`, `CanLoad` guards.
- Use Angular Interceptors for attaching auth headers.
- Avoid `localStorage` for sensitive data unless required; use cookies or memory.

---

## ğŸŒ Data Layer (MongoDB via REST API)

- Access APIs through services (e.g., `UserService`, `ProductService`).
- Use Mongoose for backend models.
- Standardize API responses:

```ts
interface ApiResponse<T> {
  data: T;
  message?: string;
  error?: string;
}
```

---

## ğŸ“Š State Management

- Prefer **Angular Signals** or **BehaviorSubject**, **ReplaySubject**.
- Avoid **NgRx** unless the application complexity justifies it.
- Use **Angular services** to manage shared state across components.

---

## ğŸ§  Smart/Presentational Component Architecture

- **Smart components**: Fetch data, manage logic, and handle state.
- **Presentational components**: Accept `@Input()` and emit `@Output()` events only.

---

## ğŸŒŸ Design Philosophy

- All designs must be **production-quality** and **visually outstanding**.
- Avoid **cookie-cutter UIs**; prioritize intentional layout and user experience.
- Use **SVG icons** (e.g., Heroicons, Lucide) â€” avoid installing extra icon libraries unless specifically requested.

---

## ğŸ“ˆ Web Vitals & Best Practices

Optimize for:

- **Largest Contentful Paint (LCP)**
- **Cumulative Layout Shift (CLS)**
- **First Input Delay (FID)**

Best Practices:

- Use **font and image preloading** to enhance performance.
- **Inline critical CSS** when necessary.
- Use **Angular Universal (SSR)** for SEO and performance optimization where applicable.

---

## ğŸš« Avoid

- Avoid using `ngClass` / `ngStyle` for full layout â€” use **Tailwind CSS** utilities instead.
- Avoid **class-based logic in templates**; favor a declarative approach.
- Do **not install additional UI libraries** unless absolutely necessary or explicitly requested.


---

## ğŸ” Angular 17â€“19 Features & Conventions

### ğŸŸ¢ Angular Signals (v17+)

- Use **Signals** as the primary reactive state tool in components and services.
- Replace `BehaviorSubject`/`ReplaySubject` with `signal()` for local state when applicable.
- Use `computed()` for derived values and `effect()` for side effects.
- Example:

```ts
import { signal, computed, effect } from '@angular/core';

export class CounterComponent {
  count = signal(0);
  double = computed(() => this.count() * 2);

  constructor() {
    effect(() => {
      console.log('Count changed:', this.count());
    });
  }

  increment() {
    this.count.update(c => c + 1);
  }
}
```

- Use `model()` for bi-directional binding (Angular 18+).

---

### ğŸš« Zoned vs. Zoneless

- **Prefer zoneless applications** using `provideZoneChangeDetection(false)` for improved performance.
- Update bootstrapping:

```ts
bootstrapApplication(AppComponent, {
  providers: [
    provideZoneChangeDetection({ eventCoalescing: true }),
    provideHttpClient()
  ]
});
```

- Use `OnPush` or `ChangeDetectionStrategy.Signal` in all components.

---

### ğŸ§± Standalone Component-First Architecture

- Build all components as **`standalone: true`**.
- Avoid using `NgModule` unless legacy compatibility is needed.
- Organize routing using the **standalone Router API**:

```ts
export const routes: Routes = [
  {
    path: '',
    loadComponent: () => import('./pages/home/home.component').then(m => m.HomeComponent)
  }
];
```

---

### ğŸ’¤ `@defer` Blocks (v17+)

Use `@defer` to lazy-load template blocks:

```html
@defer (when visible)
  <lazy-loaded-chart />
@placeholder
  <skeleton-chart />
```

- Useful for large, off-screen sections or dashboard widgets.
- Combine with `@placeholder` and `@loading` for best UX.

---

### ğŸ–¼ï¸ Image Optimization

- Use `NgOptimizedImage` directive from `@angular/common`.
- Automatically handles lazy-loading, responsive sizes, and decoding.

```html
<img
  ngSrc="assets/image.webp"
  width="400"
  height="300"
  alt="Optimized"
  priority
/>
```

- Replace all `<img>` tags with this directive for production apps.

---

### ğŸ§ª Signals vs RxJS â€“ When to Use

| Use Case                        | Prefer Signals        | Prefer RxJS              |
|----------------------------------|------------------------|---------------------------|
| Local component state            | âœ… Yes                 | ğŸš« Avoid                 |
| Derived values or computed logic | âœ… Yes                 | ğŸš« Avoid                 |
| Shared app-wide state            | âš ï¸ Cautious use       | âœ… Recommended           |
| HTTP data streams                | ğŸš« Not available       | âœ… RxJS (e.g. `HttpClient`) |
| Complex event-driven flows       | ğŸš« Limited             | âœ… RxJS                  |

---

## ğŸ”„ Update Pattern for State with Signals

- Prefer `.update()`, `.mutate()`, `.set()` over `this.state = newValue`.
- Wrap related logic into `effects()` when state changes trigger DOM or API calls.

---

## ğŸ§© Signals in Services

```ts
@Injectable({ providedIn: 'root' })
export class UserService {
  private _user = signal<User | null>(null);
  user = this._user.asReadonly();

  setUser(user: User) {
    this._user.set(user);
  }

  clearUser() {
    this._user.set(null);
  }
}
```

- Inject this into components and use `user()` reactively.

---

---

## ğŸ“ Recommended Project Structure

```
my-angular-project/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”œâ”€â”€ guards/
â”‚   â”‚   â”‚   â””â”€â”€ interceptors/
â”‚   â”‚   â”œâ”€â”€ features/
â”‚   â”‚   â”‚   â”œâ”€â”€ feature1/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ feature1.routes.ts
â”‚   â”‚   â”‚   â””â”€â”€ feature2/
â”‚   â”‚   â”œâ”€â”€ shared/
â”‚   â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ directives/
â”‚   â”‚   â”‚   â””â”€â”€ pipes/
â”‚   â”‚   â”œâ”€â”€ app.component.ts
â”‚   â”‚   â”œâ”€â”€ app.component.html
â”‚   â”‚   â”œâ”€â”€ app.component.css
â”‚   â”‚   â”œâ”€â”€ app.routes.ts
â”‚   â”‚   â””â”€â”€ app.config.ts
â”‚   â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ environments/
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ main.ts
â”‚   â””â”€â”€ styles.css
â”œâ”€â”€ angular.json
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â””â”€â”€ README.md
```

- Group reusable logic inside `core/`.
- Share UI parts, directives, and pipes via `shared/`.
- Keep feature logic isolated within `features/`.
- Use `app.config.ts` and `app.routes.ts` for standalone app setup.

---
